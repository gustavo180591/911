{# templates/registro.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}SACI - REGISTRO DE USUARIO{% endblock %}

{% block stylesheets %}
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
        }
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .card {
            width: 30rem;
            transform: translateY(-50px);
        }
    </style>
{% endblock %}

{% block body %}
    <header>
        <div style="position: relative; left: 20%; top: 20%;">
            <img src="{{ asset('images/favicon.png') }}" alt="SACI" class="favicon" style="height: 40px; width: auto; margin-left: 10px; transform: translateY(10%);" />
            <img src="{{ asset('images/saci-blanco.png') }}" alt="SACI" class="float-left mt-2" style="height: 50px; width: auto; transform: translateY(20%);" />
        </div>
        <nav>
            <a href="{{ path('home_about') }}" class="about-button" style="right: 400px;">SOBRE NOSOTROS</a>
            <a href="{{ path('home_contact') }}" class="contact-button" style="right: 240px;">CONTACTO</a>
        </nav>
    </header>

    <style>
        body {
            background-color: #191D33;
            color: #FFFFFF;
        }
        .about-button {
            position: absolute;
            top: 20px;
            right: 180px;
            display: inline-block;
            background-color: transparent;
            border-radius: 9999px;
            padding: 10px 30px;
            font-weight: bold;
            font-size: 16px;
            color: #ECB13A;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .about-button:hover {
            color: #FFFFFF;
        }
        .contact-button {
            position: absolute;
            top: 20px;
            right: 20px;
            display: inline-block;
            background-color: #ECB13A;
            border-radius: 9999px; /* Píldora */
            padding: 10px 30px;
            font-weight: bold;
            font-size: 16px;
            color: #FFFFFF;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .contact-button:hover {
            background-color: #FFFFFF;
            color: #ECB13A;
        }
    </style>

    <div class="container">
        <div class="card">
            <div class="card-body">
                <h1 class="text-center mb-3">Registro de Usuario</h1>
                <p class="text-center mb-4">Completá con tus datos para crear una cuenta</p>

                <!-- Mensajes de éxito y error -->
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success">
                        {{ message }}
                    </div>
                {% endfor %}

                {% for message in app.flashes('error') %}
                    <div class="alert alert-danger">
                        {{ message }}
                    </div>
                {% endfor %}

                {{ form_start(registrationForm) }}

                {# FILA 1: Nombre y Apellido #}
                <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form_label(registrationForm.nombre, 'Nombre', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.nombre, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'Ej: Juan',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                    </div>
                    <div class="col-md-6">
                        {{ form_label(registrationForm.apellido, 'Apellido', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.apellido, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'Ej: Pérez',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                    </div>
                </div>

                {# FILA 2: DNI y Dirección #}
                <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form_label(registrationForm.dni, 'DNI', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.dni, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'Ej: 12345678',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                        {{ form_errors(registrationForm.dni) }}
                    </div>
                    <div class="col-md-6">
                        {{ form_label(registrationForm.direccion, 'Dirección', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.direccion, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'Ej: Av. Siempre Viva 1234',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                        {{ form_errors(registrationForm.direccion) }}
                    </div>
                </div>

                {# FILA 3: Correo (col-12) #}
                <div class="row mb-3">
                    <div class="col-md-12">
                        {{ form_label(registrationForm.email, 'Correo Electrónico', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.email, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'ejemplo@email.com',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                        {{ form_errors(registrationForm.email) }}
                    </div>
                </div>

                {# FILA 4: Teléfono (col-12) #}
                <div class="row mb-3">
                    <div class="col-md-12">
                        {{ form_label(registrationForm.telefono, 'Número de Teléfono', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.telefono, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'Ej: +54 9 11 1234 5678',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                        {{ form_errors(registrationForm.telefono) }}
                    </div>
                </div>

                {# FILA 5: Contraseña (col-12) #}
                <div class="row mb-3">
                    <div class="col-md-12">
                        {{ form_label(registrationForm.Password, 'Contraseña', {
                            'label_attr': {
                                'style': 'font-family: Montserrat, sans-serif;'
                            }
                        }) }}
                        {{ form_widget(registrationForm.Password, {
                            'attr': {
                                'class': 'form-control',
                                'placeholder': 'Ingrese su contraseña',
                                'style': 'font-family: "Montserrat", sans-serif; background-color: #191D33; color: white; border: 1px solid white; border-radius: 0.5rem; transition: border-color 0.2s ease, border-width 0.2s ease; width: 100%; height: 35px;',
                                'onmouseover': 'this.style.border = "2px solid #ECB13A";',
                                'onmouseout': 'if (!this.matches(":focus") && this.value === "") { this.style.border = "1px solid white"; }',
                                'onfocus': 'this.style.border = "2px solid #ECB13A";',
                                'onblur': 'if (this.value === "") { this.style.border = "1px solid white"; } else { this.style.border = "2px solid #ECB13A"; }'
                            }
                        }) }}
                        {{ form_errors(registrationForm.Password) }}
                    </div>
                </div>

                <button type="submit" style="
                    font-family: 'Montserrat', sans-serif;
                    font-weight: bold;
                    font-size: 18px;
                    background-color: #FFFFFF;
                    border-radius: 9999px;
                    padding: 10px 30px;
                    cursor: pointer;"
                >
                    Registrar
                </button>

                {{ form_end(registrationForm) }}

                <div class="mt-3 text-center">
                    <p>¿Ya tenés una cuenta?
                        <a href="{{ path('auth_login') }}" style="font-family: 'Montserrat', sans-serif; font-weight: bold; color: white; text-decoration: none;">
                            Inicia sesión
                        </a>.
                    </p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
